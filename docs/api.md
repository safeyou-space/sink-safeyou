# Sink API

Writing API documentation manually can be very laborious, and we will automatically generate documents after the official release of [Nitro's OpenAPI](https://nitro.unjs.io/config#openapi).

This place provides an example of creating a short link API. Other APIs are currently available for viewing through browser developer tools.

## API Reference

### Create Short Link

```http
  POST /api/link/create
```
#### Request Body Parameters

| Parameter     | Type     | Required | Description                                                    |
| :------------ | :------- | :------- | :------------------------------------------------------------- |
| `url`         | `string` | Yes      | The target URL to create a short link for                     |
| `slug`        | `string` | No       | Custom slug for the short link (auto-generated if not provided) |
| `environment` | `string` | No       | Environment identifier (e.g., `production`, `development`, `qa`) |



### Get Links List

```http
  GET /api/link/list
```

| Header          | Description        |
| :-------------- | :----------------- |
| `authorization` | `Bearer SinkCool`  |

#### Example

```http
  GET /api/link/list
  HEADER authorization: Bearer SinkCool
```



#### Example

```http
  POST /api/link/create
  HEADER authorization: Bearer SinkCool
  HEADER content-type: application/json
  BODY  {
          "url": "https://github.com/ccbikai/Sink/issues/14",
          "slug": "issue14"
        }
```

The BODY data must be JSON.

```http
  RESPONSE 201
  BODY  {
          "link": {
            "id": "xpqhaurv5q",
            "url": "https://github.com/ccbikai/Sink/issues/14",
            "slug": "issue14",
            "env": "production",
            "createdAt": 1718119809,
            "updatedAt": 1718119809
          }
        }
```

```http
  GET /api/link/list
  HEADER authorization: Bearer SinkCool
    RESPONSE 200
  BODY  {
          "list_complete": true,
          "cacheStatus": null,
          "links": [
            {
              "url": "https://safeyou.space/en/blog/call-for-applications-wise-small-scale-grant-program-2025-armenia",
              "env": "production",
              "id": "rmfbt8262v",
              "slug": "cu8t7",
              "createdAt": 1755685323,
              "updatedAt": 1755685323
            },
            {
              "url": "https://web.whatsapp.com/",
              "env": "production",
              "id": "bx3ed2vcj3",
              "slug": "d6s5k",
              "createdAt": 1755685238,
              "updatedAt": 1755685238
            },
            {
              "url": "https://safeyou.space/en",
              "env": "production",
              "id": "hztteknc2b",
              "slug": "fdwyv",
              "createdAt": 1755683342,
              "updatedAt": 1755683342
            }
          ]
        }

```

| Parameter   | Type        | Description                                                                                |
| :---------- | :---------- | :----------------------------------------------------------------------------------------- |
| `id`        | `string`    | This is automatically generated by Sink                                                    |
| `url`       | `string`    | This is confirmation of the submitted URL and is required.                                 |
| `slug`      | `string`    | This is slug generated by the system, either automatically or from the input (if provided) |
| `environment` | `string`    | **Optional.** Environment identifier (e.g., `production`, `development`, `qa`)             |
| `createdAt` | `timestamp` | This is automatically generated with a UNIX Timestamp.                                     |
| `updatedAt` | `timestamp` | This is automatically generated with a UNIX Timestamp.                                     |
